<div class="container">

	<div class="row panel" id="control-panel">
			<div class="col s4 knob-global panel-button" ng-repeat="control in sta.station.globalControls" ng-click="sta.globalLoopOn(); control.on = !control.on; sta.updateStation()">{{ control.name }}</div>
		<div class="col s12" id="on-off-panel">
			<button ng-repeat="instrument in sta.station.stationInstruments" class="btn button-on-off" ng-click="instrument.show = !instrument.show; sta.updateStation()">{{ instrument.name }}</button>
		</div>
	</div>
	<button ng-click="sta.setStepPromises()">SET STEP PROMISES</button>
	<button ng-click="sta.globalLoopOn()">STOP</button>

	<div class="row" ng-repeat="instrument in sta.station.stationInstruments" ng-show="instrument.show"> 
		<div class="panel instrument-panel">
			<div class="panel-header">
			  <!-- can DRY up by making object in StationsController -->
				<span class="col s4 panel-button" ng-mousedown="sta.panelButtonPressed(); sta.updateStation()">{{ instrument.name }}</span>
				<span class="col s4 panel-button" ng-click="instrument.muted = !instrument.muted; sta.updateStation()">MUTE I/O</span>
				<span class="col s4 panel-button" ng-click="instrument.show = !instrument.show; sta.updateStation()">HIDE</span>
			</div>
			<div class="step-panel">
				<span class="step" ng-repeat="step in instrument.steps" id="{{step.id}}" 
					ng-class="{ 'depressed': step.pressed, 'stepOn': step.on }"
					ng-mousedown="sta.stepPressed(step); sta.stepOnOff(step); sta.updateStation()"
					ng-mouseup="sta.stepPressed(step)"><span class="step-text"></span></span>
			</div>
		</div>
	</div>

</div>  